{#
SPDX-FileCopyrightText: 2025 Suguru Hirahara

SPDX-License-Identifier: AGPL-3.0-or-later
#}

{#
See: https://github.com/timvisee/docmost/blob/master/docs/docker.md
#}

# Server configuration
BASE_URL={{ docmost_environment_variable_base_url }}
DETECT_BASE_URL={{ docmost_environment_variable_detect_base_url | to_json }}
PORT={{ docmost_environment_variable_port }}
NODE_ENV={{ docmost_environment_variable_node_env }}
SEND_FOOTER_DMCA_URL={{ docmost_environment_variable_docmost_footer_dmca_url }}
SENTRY_CLIENT={{ docmost_environment_variable_sentry_client }}
SENTRY_DSN={{ docmost_environment_variable_sentry_dsn }}

# Upload and download limits
MAX_FILE_SIZE={{ docmost_environment_variable_max_file_size }}
MAX_FILES_PER_ARCHIVE={{ docmost_environment_variable_max_files_per_archive }}
MAX_EXPIRE_SECONDS={{ docmost_environment_variable_max_expire_seconds }}
MAX_DOWNLOADS={{ docmost_environment_variable_max_downloads }}
DOWNLOAD_COUNTS={{ docmost_environment_variable_download_counts }}
EXPIRE_TIMES_SECONDS={{ docmost_environment_variable_expire_times_seconds }}
DEFAULT_DOWNLOADS={{ docmost_environment_variable_default_downloads }}
DEFAULT_EXPIRE_SECONDS={{ docmost_environment_variable_default_expire_seconds }}

# Storage backend options
REDIS_HOST={{ docmost_environment_variable_redis_host }}
REDIS_PORT={{ docmost_environment_variable_redis_port }}
REDIS_USER={{ docmost_environment_variable_redis_user }}
REDIS_PASSWORD={{ docmost_environment_variable_redis_password }}
REDIS_DB={{ docmost_environment_variable_redis_db }}
{% if docmost_storage_backend_option == 'localsystem' %}
FILE_DIR={{ docmost_environment_variable_file_dir }}
{% elif docmost_storage_backend_option == 's3compatible' %}
S3_BUCKET={{ docmost_environment_variable_S3_bucket }}
S3_ENDPOINT={{ docmost_environment_variable_S3_endpoint }}
S3_USE_PATH_STYLE_ENDPOINT={{ docmost_environment_variable_S3_use_path_style_endpoint | to_json }}
AWS_ACCESS_KEY_ID={{ docmost_environment_variable_aws_access_key_id }}
AWS_SECRET_ACCESS_KEY={{ docmost_environment_variable_aws_secret_access_key }}
{% elif docmost_storage_backend_option == 'gcs' %}
GCS_BUCKET={{ docmost_environment_variable_gcs_bucket }}
{% endif %}

{{ docmost_environment_variables_additional_variables }}
